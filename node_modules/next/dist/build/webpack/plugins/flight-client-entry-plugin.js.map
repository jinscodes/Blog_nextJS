{"version":3,"sources":["../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["ClientReferenceEntryPlugin","PLUGIN_NAME","pluginState","getProxiedPluginState","serverActions","edgeServerActions","actionModServerId","actionModEdgeServerId","serverModuleIds","edgeServerModuleIds","ASYNC_CLIENT_MODULES","injectedClientEntries","deduplicateCSSImportsForEntry","mergedCSSimports","sortedCSSImports","Object","entries","sort","a","b","aPath","bPath","aDepth","split","length","bDepth","aName","path","parse","name","bName","indexA","indexOf","indexB","dedupedCSSImports","trackedCSSImports","Set","entryName","cssImports","cssImport","has","filename","includes","add","push","constructor","options","dev","appDir","isEdgeServer","useServerActions","serverActionsSizeLimit","assetPrefix","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","webpack","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","recordModule","modId","mod","modResource","resourceResolveData","resource","layer","WEBPACK_LAYERS","client","ssrNamedModuleId","relative","context","startsWith","normalizePathSep","replace","traverseModules","_chunk","_chunkGroup","request","buildInfo","rsc","moduleGraph","isAsync","String","make","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createActionAssets","addClientEntryAndSSRModulesList","addActionEntryList","actionMapsPerEntry","forEachEntryModule","entryModule","internalClientComponentEntryImports","actionEntryImports","Map","clientEntriesToInject","connection","getOutgoingConnections","entryDependency","dependency","entryRequest","clientComponentImports","actionImports","collectComponentInfoFromDependencies","forEach","dep","names","isAbsoluteRequest","isAbsolute","value","relativeRequest","bundlePath","assign","absolutePagePath","clientEntryToInject","injectClientEntryAndSSRModules","clientImports","APP_CLIENT_INTERNALS","size","errors","Error","createdActions","actionNames","actionName","injectActionEntry","actions","collectClientEntryDependencyMap","clientEntryDependencyMap","entry","get","includeDependencies","getResolvedModule","finishModules","addedClientActionEntryList","actionMapsPerClientEntry","tracked","clientActionImports","remainingClientImportedActions","remainingActionEntryImports","remainingActionNames","id","fromClient","Promise","all","invalidator","getInvalidator","outputPath","some","shouldInvalidate","invalidate","COMPILER_NAMES","map","addClientEntryAndSSRModules","visitedBySegment","CSSImports","filterClientComponents","dependencyToFilter","inClientComponentBoundary","isCSS","isCSSMod","modRequest","query","storeKey","isClientComponent","isClientComponentEntryModule","getActions","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","EDGE_RUNTIME_WEBPACK","test","Array","from","loaderOptions","modules","server","clientLoader","stringify","importPath","sep","clientSSRLoader","getEntries","pageKey","getEntryKey","type","EntryTypes","CHILD_ENTRY","parentEntries","absoluteEntryFilePath","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","actionsArray","actionLoader","JSON","__client_imported__","currentCompilerServerActions","p","generateActionId","workers","action","actionEntryDep","resolve","reject","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry","chunkGroup","mapping","json","node","edge","undefined","SERVER_REFERENCE_MANIFEST","sources","RawSource"],"mappings":"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"}